!function(a,b){var d,e,f,g,L,c="WPPContentLoaded",h={};function j(){d&&clearTimeout(d),d=setTimeout(function(){var t=a.pageYOffset;f.forEach(function(e){e.offsetTop<a.innerHeight+t&&(e.src=e.getAttribute("data-src"),e.removeAttribute("data-src"),e.getAttribute("data-srcset")&&(e.srcset=e.getAttribute("data-srcset"),e.removeAttribute("data-srcset")))}),0==f.length&&(b.removeEventListener("scroll",j),a.removeEventListener("resize",j),a.removeEventListener("orientationChange",j))},20)}function l(){e&&clearTimeout(e),e=setTimeout(function(){a.pageYOffset;g.forEach(function(e){e.offsetTop,a.innerHeight}),0==g.length&&(b.removeEventListener("scroll",l),a.removeEventListener("resize",l),a.removeEventListener("orientationChange",l))},20)}if(!h.css||(L=b.createElement("link").relList)&&L.supports&&L.supports("preload")||function(){var e,t,r,n=b.getElementsByTagName("link");for(var i in n)"preload"===n[i].rel&&"style"===n[i].getAttribute("as")&&(e=n[i].href,t=n[i].getAttribute("media")||"all",r=void 0,(r=b.createElement("link")).rel="stylesheet",r.href=e,r.media=t||"all",b.head.appendChild(r))}(),h.images&&function(){if(f=b.querySelectorAll("img[data-src]"),"IntersectionObserver"in a){var r=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src"),t.getAttribute("data-srcset")&&(t.srcset=t.getAttribute("data-srcset"),t.removeAttribute("data-srcset")),r.unobserve(t)}})});f.forEach(function(e){r.observe(e)})}else b.addEventListener("scroll",j),a.addEventListener("resize",j),a.addEventListener("orientationChange",j)}(),h.videos&&function(){if(g=b.querySelectorAll(".wpp-video"),"IntersectionObserver"in a){var r=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;r.unobserve(t)}})});g.forEach(function(e){r.observe(e)})}else b.addEventListener("scroll",l),a.addEventListener("resize",l),a.addEventListener("orientationChange",l)}(),h.js&&function(){var V=[],W=b.getElementsByTagName("script");for(var X in W)"text/wppscript"==W[X].type&&V.push({url:W[X].getAttribute("data-src")||null,code:W[X].innerHTML||null});(function(e){var t=[];return e.forEach(function(n){var e=new Promise(function(e,t){if(n.url){var r=new XMLHttpRequest;r.open("get",n.url),r.onload=function(){200==r.status?e({file:n.url,code:r.response.split("DOMContentLoaded").join(c)}):t(Error(r.statusText))},setTimeout(function(){if(r.readyState<4)return r.abort(),t(new Error(n.url+" timeout"))},1e4),r.send()}else e({file:null,code:n.code.split("DOMContentLoaded").join(c)})});t.push(e)}),Promise.all(t)})(V).then(function(Y){for(var Z in Y)try{eval(Y[Z].code)}catch(e){console.error(e.name,e.message,Y[Z].file||"WPP script index: "+Z)}b.dispatchEvent(new Event(c))})}(),void 0!==h.expire&&Math.floor((new Date).getTime()/1e3)>h.expire){var r=new XMLHttpRequest;r.open("POST",h.ajax_url,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("action=wpp_clear_cache")}}(window,document);