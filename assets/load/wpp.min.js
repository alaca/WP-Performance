(function(a,b){'use strict';function c(){for(var p=0;p<o.length;p++)d(o[p])&&o[p].getAttribute('data-src')&&(o[p].src=o[p].getAttribute('data-src'),o[p].removeAttribute('data-src'),o[p].getAttribute('data-srcset')&&(o[p].srcset=o[p].getAttribute('data-srcset'),o[p].removeAttribute('data-srcset')),-1!==o.indexOf(o[p])&&o.splice(p,1))}function d(p){var q=p.getBoundingClientRect();return(0<=q.top&&0<=q.left&&q.top)<=(a.innerHeight||b.documentElement.clientHeight)}function f(){b.addEventListener('scroll',c,!1);for(var p=b.querySelectorAll('img[data-src]'),q=0;q<p.length;q++)o.push(p[q]);b.dispatchEvent(new Event('scroll'))}function g(p,q){var r=b.createElement('link');r.rel='stylesheet',r.href=p,r.media=q||'all',b.head.appendChild(r)}function k(p){var q=[];return p.forEach(function(r){var s=new Promise(function(t,u){if(r.url){var v=new XMLHttpRequest;v.open('get',r.url),v.onload=function(){200==v.status?t(v.response):u(Error(v.statusText))},setTimeout(function(){if(4>v.readyState)return v.abort(),u(new Error(r.url+' timeout'))},1e4),v.send()}else t(r.code)});q.push(s)}),Promise.all(q)}function l(){var p=[],q=b.getElementsByTagName('script');for(var r in q)'text/localscript'==q[r].type&&p.push({url:q[r].getAttribute('data-src')||null,code:q[r].innerHTML||null});k(p).then(function(s){for(var t in s)try{(0,eval)(s[t])}catch(u){console.log(u.name,u.message)}})}function m(){f(),c(),l()}if('undefined'!=typeof WPP.expire&&Math.floor(new Date().getTime()/1e3)>WPP.expire){var n=new XMLHttpRequest;n.open('POST',WPP.ajax_url,!0),n.setRequestHeader('Content-type','application/x-www-form-urlencoded'),n.send('action=wpp_clear_cache')}var o=[];(function(){var p=b.createElement('link').relList;return p&&p.supports&&p.supports('preload')})()||function(){var p=b.getElementsByTagName('link');for(var q in p)'preload'===p[q].rel&&'style'===p[q].getAttribute('as')&&g(p[q].href,p[q].getAttribute('media')||'all')}(),'loading'===b.readyState?b.addEventListener('DOMContentLoaded',m):m()})(window,document);